//---- palettes ----//


var palette = ['b5acff','8dcfff','7ffff9','71ff96','c0ff6d','eeff64','ffc952','ffaf38','ff471d'];

//--- vegetation palettes ----//
var palette = 'FFFFFF,CE7E45,DF923D,F1B555,FCD163,99B718,74A901,66A000,529400,3E8601,207401,056201,004C00,023B01,012E01,011D01,011301';
//this comes from R: paste(rev(terrain.colors(100)),collapse=',')
var vegPal = "#F2F2F2FF,#F2EDEDFF,#F2E8E8FF,#F1E4E3FF,#F1DFDEFF,#F1DBD9FF,#F1D7D4FF,#F0D4CFFF,#F0D0CAFF,#F0CDC5FF,#F0C9C0FF,#EFC6BBFF,#EFC4B6FF,#EFC1B1FF,#EFBFACFF,#EEBCA7FF,#EEBAA2FF,#EEB99DFF,#EEB798FF,#EDB593FF,#EDB48EFF,#EDB389FF,#EDB285FF,#ECB280FF,#ECB17BFF,#ECB176FF,#ECB171FF,#EBB16CFF,#EBB167FF,#EBB263FF,#EBB25EFF,#EAB359FF,#EAB454FF,#EAB550FF,#EAB74BFF,#E9B846FF,#E9BA41FF,#E9BC3DFF,#E9BE38FF,#E8C033FF,#E8C32EFF,#E8C62AFF,#E8C825FF,#E7CB20FF,#E7CF1CFF,#E7D217FF,#E7D612FF,#E6D90EFF,#E6DD09FF,#E6E105FF,#E6E600FF,#E0E400FF,#DAE300FF,#D4E200FF,#CEE000FF,#C8DF00FF,#C3DE00FF,#BDDC00FF,#B7DB00FF,#B2DA00FF,#ACD800FF,#A7D700FF,#A2D600FF,#9CD500FF,#97D300FF,#92D200FF,#8DD100FF,#87CF00FF,#82CE00FF,#7DCD00FF,#78CB00FF,#74CA00FF,#6FC900FF,#6AC800FF,#65C600FF,#60C500FF,#5CC400FF,#57C200FF,#53C100FF,#4EC000FF,#4ABE00FF,#45BD00FF,#41BC00FF,#3DBB00FF,#39B900FF,#35B800FF,#30B700FF,#2CB500FF,#28B400FF,#24B300FF,#21B100FF,#1DB000FF,#19AF00FF,#15AE00FF,#12AC00FF,#0EAB00FF,#0AAA00FF,#07A800FF,#03A700FF,#00A600FF";
//this is one that Mao-Ning used for MODIS EVI. Might be same as above.
var palette = ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
               '74A901', '66A000', '529400', '3E8601', '207401', '056201',
               '004C00', '023B01', '012E01', '011D01', '011301'];

Map.addLayer(img.select('NDVI'), {palette:palette});

//paint a set of polygons polyFC (with identification 'id') to image and visualize
//example: https://code.earthengine.google.com/849862c672e8e5028a4d86ee14cf8c36
Map.addLayer(ee.Image().int().paint(polyFC,'id').randomVisualizer())
